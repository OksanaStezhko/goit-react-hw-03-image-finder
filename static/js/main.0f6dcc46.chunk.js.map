{"version":3,"sources":["components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","api/api-pixabay.js","App.js","index.js"],"names":["Container","children","this","props","className","Component","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","webformatURL","src","alt","ImageGallery","images","map","id","Button","onClick","keyApi","axios","defaults","baseURL","fetchImg","currentPage","searchQuery","fetchString","get","then","response","data","catch","console","error","App","totalHits","isLoading","handleChangeQuery","handleClick","fetchApi","prevProps","prevState","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","finally","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0f6dcc46.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Container extends Component {\n  static propTypes = { children: PropTypes.node.isRequired };\n  render() {\n    const { children } = this.props;\n    return <div className=\"App\">{children}</div>;\n  }\n}\n\nexport default Container;\n","import React, { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({ query: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React from 'react';\n\nconst ImageGalleryItem = ({ webformatURL }) => (\n  <li className=\"ImageGalleryItem\">\n    <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n  </li>\n);\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ webformatURL, id }) => (\n      <ImageGalleryItem key={id} webformatURL={webformatURL} />\n    ))}\n  </ul>\n);\n\nexport default ImageGallery;\n","import React from 'react';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className=\"Button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nexport default Button;\n","import axios from 'axios';\nconst PAGESIZE = 12;\nconst keyApi = '20047833-7ab7ad4719e2250c2f7b848a4';\n\naxios.defaults.baseURL = `https://pixabay.com/api/?key=${keyApi}&per_page=12`;\n\nconst fetchImg = ({ currentPage, searchQuery }) => {\n  const fetchString = `https://pixabay.com/api/?key=${keyApi}&per_page=${PAGESIZE}&q=${searchQuery}&page=${currentPage}`;\n  return axios\n    .get(fetchString)\n    .then(response => response.data)\n    .catch(console.error);\n};\n\nexport default fetchImg;\n\n//   `https://pixabay.com/api/?key=${keyApi}&per_page=12&q=${this.searchQuery}&page=${this.page}`\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport fetchImg from './api/api-pixabay';\n\nclass App extends Component {\n  state = {\n    images: [],\n    totalHits: 0,\n    searchQuery: '',\n    currentPage: 1,\n    error: null,\n    isLoading: false,\n  };\n\n  handleChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      totalHits: 0,\n      currentPage: 1,\n    });\n  };\n\n  handleClick = () => {\n    this.fetchApi();\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchApi();\n    }\n  }\n\n  fetchApi() {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    fetchImg(options)\n      .then(({ hits, totalHits }) => {\n        this.setState({ totalHits: totalHits });\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleChangeQuery} />\n        <ImageGallery images={this.state.images}></ImageGallery>\n        <Button onClick={this.handleClick} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}